<div class="admin-section">
  <h2>ğŸ§  Gestion des Quiz</h2>

  <!-- Formulaire dâ€™ajout / modification -->
  <form (ngSubmit)="addOrUpdateQuiz()">
    <input type="text" [(ngModel)]="newQuiz.title" name="title" placeholder="Titre du quiz" required />

    <input type="text" [(ngModel)]="newQuiz.category" name="category" placeholder="CatÃ©gorie" required />

    <select [(ngModel)]="newQuiz.level" name="level">
      <option *ngFor="let lvl of levels" [value]="lvl">{{ lvl | titlecase }}</option>
    </select>

    <textarea [(ngModel)]="newQuiz.description" name="description" placeholder="Description du quiz"></textarea>

    <button type="submit" class="add">
      {{ isEdit ? 'ğŸ’¾ Mettre Ã  jour' : 'â• Ajouter' }}
    </button>
    <button *ngIf="isEdit" type="button" class="cancel" (click)="cancelEdit()">âŒ Annuler</button>
  </form>

  <!-- Loader -->
  <div *ngIf="loading" class="loader">â³ Chargement des quiz...</div>

  <!-- Table des quiz -->
  <table *ngIf="!loading && quizzes.length > 0">
    <thead>
    <tr>
      <th>ID</th>
      <th>Titre</th>
      <th>CatÃ©gorie</th>
      <th>Niveau</th>
      <th>DurÃ©e</th>
      <th>Actions</th>
    </tr>
    </thead>
    <tbody>
    <tr *ngFor="let quiz of quizzes">
      <td>{{ quiz.id }}</td>
      <td>{{ quiz.title }}</td>
      <td>{{ quiz.category }}</td>
      <td>{{ quiz.level | titlecase }}</td>
      <td>{{ quiz.duration || '-' }} sec</td>
      <td class="actions">
        <button class="edit" (click)="editQuiz(quiz)">âœï¸ Modifier</button>
        <button class="delete" (click)="deleteQuiz(quiz.id!)">ğŸ—‘ï¸ Supprimer</button>
      </td>
    </tr>
    </tbody>
  </table>

  <div *ngIf="!loading && quizzes.length === 0" class="no-data">
    Aucun quiz disponible.
  </div>
</div>
